#!/usr/bin/env python3

from socket import *
import sys
import time

HOST = sys.argv[1]
PORT = int(sys.argv[2])
BUFSIZE = 1024
ADDR = (HOST, PORT)

s = socket(AF_INET, SOCK_STREAM)
try:
    s.connect(ADDR)
except Exception as e:
    print('Cannot connect to the server.')
    sys.exit()


s.send(b'[Edit here]')
time.sleep(2)
#Parse and use string here

call_system_addr = "Edit here"

payload = "Edit here" + b'cat /var/ctf/flag\n'

s.send(payload)
time.sleep(2)

flag = s.recv(BUFSIZE).decode('utf-8')
flag = flag.rstrip()

print('Got the following flag:')
sys.stdout.write(flag)
